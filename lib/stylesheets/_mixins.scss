@mixin micro-clearfix {
  // For modern browsers
  &:before,
  &:after {
    content:"";
    display:table;
  }  &:after {
    clear:both;
  }
  // For IE 7 (trigger hasLayout)
  & {
    zoom:1;
  }
}

@mixin respond-to($media) {
  @if $media == small {
    @media only screen and (max-width: 640px) {
      @content;
    }
  }
  @else if $media == medium {
    @media only screen and (min-width: 641px) and (max-width: 1024px) {
      @content;
    }
  }
  @else if $media == xlarge {
    @media only screen and (min-width: 1400px){
      @content;
    }
  }
}

@mixin grid-classes($silent: false) {
  @include with-grid-settings(12, 75px, 20px, 40px) {
    $base: if($silent, '%', '.');
    $selector: '#{$base}span';

    @if $silent { #{$selector} { @include span-columns(1); } }
    @else { [class^="span-"] { @include span-columns(1); } }

    #{$base}row, #{$base}full { @include micro-clearfix; @include reset-columns;}
    #{$base}omega { @include omega; }

    @for $span from 1 through $total-columns {
      $span-selector: '#{$selector}-#{$span}';
      @for $context from 1 through $total-columns {
        $total-selector: '#{$span-selector}-#{$context}';
        $total-selector: if($context == $total-columns, '#{$span-selector}, #{$total-selector}', $total-selector);
        @if $context > $span {
          #{$total-selector} {
            @if $silent { @extend #{$selector}; }
            width: columns($span, $context);
          }
        } @else {
          @if $context == $span {
            #{$total-selector} { @include micro-clearfix; @include reset-columns;}
          }
        }
      }
    }
    // Reset columns at the smallest breakpoint.
    @include at-breakpoint($small) {
      [class^="span-"] {
        @include reset-columns;
        display: block;
      }
    }

    .bleed-left {
      @include bleed($sides: left);
    }
    .bleed-right {
      @include bleed($sides: right);
    }
  };
}

@mixin seam($top: #DDD, $bottom: #F5F5F5) {
  box-shadow: inset 0 -1px 0 0 $top;
  border-bottom: 1px solid $bottom;
}

// http://www.mightymeta.co.uk/css-noise/
@mixin noise {
  background-color: #eee;
  background-image: url(data:image/png;base64,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);
}

@mixin animate-visibility($duration: 0.2s) {
  display: none;
  visibility: hidden;
  opacity: 0;

  @include transition-property(visibility, opacity);
  @include transition-duration($duration, $duration);

  &.hidden {
    display: block;
    visibility: hidden;
    opacity: 0;
  }

  &.visible {
    display: block;
    visibility: visible;
    opacity: 1;
  }
}
