<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">

  <title>Canon | Unit Tests</title>

  <link rel="stylesheet" type="text/css" href="/vendor/mocha/mocha.css">

  <script type="text/javascript" src="/vendor/chai/chai.js"></script>
  <script type="text/javascript" src="/vendor/mocha/mocha.js"></script>
  <script type="text/javascript" src="/vendor/mocha-sinon/sinon-1.6.0.js"></script>

  <script type="text/javascript">

    var expect, should;

    mocha.reporter('html');
    mocha.setup('bdd');
    chai.Assertion.includeStack = true;

    expect = chai.expect;
    should = chai.should();

  </script>

  <script type="text/javascript" src="/vendor/mocha-sinon/mocha-sinon.js"></script>
  <script type="text/javascript" src="/vendor/sinon-chai/lib/sinon-chai.js"></script>
  <script type="text/javascript" src="/vendor/requirejs/require.js"></script>
</head>
<body>
  <div id="mocha"></div>
  <div id="fixture"></div>

  <script type="text/javascript">

    var fixture, specs = [];

    fixture = document.getElementById('fixture');

    specs.push('canon_spec');
    specs.push('dom_spec');
    specs.push('events_spec');
    specs.push('content_section_spec');

    requirejs.config({
      paths: {
        'canon': '../assets/canon',
        'bean': '../vendor/bean/bean',
        'bonzo': '../vendor/bonzo/bonzo',
        'qwery': '../vendor/qwery/qwery'
      }
    });

    require(specs, function () {
      if (window.mochaPhantomJS) {
        mochaPhantomJS.run();
      }
      else {
        mocha.run();
      }
    });

    afterEach(function () {
      while (fixture.hasChildNodes()) {
        fixture.removeChild(fixture.lastChild);
      }
    });

  </script>
</body>
</html>
